const items = [
  {
    stt:1,
    mainImage: "https://drive.google.com/file/d/1Hoko0hevt0q5ILLdjA6gK9ij6Vf_SxMf/view",
    image2: "https://picsum.photos/500/700?random=2",
    image3: "https://picsum.photos/500/700?random=3",
    links: {
      shirt: "https://example.com/shirt1",
      pants: "https://example.com/pants1",
      shoes: "https://example.com/shoes1",
    },
  },
  {
    stt:2,
    mainImage: "https://drive.google.com/file/d/1Hoko0hevt0q5ILLdjA6gK9ij6Vf_SxMf/view",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:3,
    mainImage: "https://picsum.photos/500/700?random=11",
    image2: "https://picsum.photos/500/700?random=12",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:4,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:5,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:6,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:7,
    mainImage: "https://picsum.photos/500/700?random=11",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=11",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {

    stt:8,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:9,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:10,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:11,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },

  {
    stt:12,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:13,
    mainImage: "https://picsum.photos/500/700?random=31",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },

  {
    stt:14,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:15,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:16,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },

  {
    stt:17,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:18,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
  {
    stt:19,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },{
    stt:20,
    mainImage: "https://picsum.photos/500/700?random=3",
    image2: "https://picsum.photos/500/700?random=4",
    image3: "https://picsum.photos/500/700?random=5",
    links: {
      shirt: "https://example.com/shirt2",
      pants: "https://example.com/pants2",
      shoes: "https://example.com/shoes2",
    },
  },
];
localStorage.setItem('items', JSON.stringify(items));
const featuredGrid = document.getElementById('featuredGrid');
const masonryGrid  = document.getElementById('imageGrid');
function createCard(item) {
  const link = document.createElement('a');
  link.href = `product.html?id=${item.stt}`;  // ðŸ”¥ DÃ²ng nÃ y cá»±c quan trá»ng
  link.className = 'group relative block w-full h-full overflow-hidden rounded-xl shadow-lg bg-white';

  const img1 = document.createElement('img');
  img1.src = item.mainImage;
  img1.alt = `Sáº£n pháº©m ${item.stt}`;
  img1.className = 'w-full h-full object-cover transition-transform duration-500 ease-out group-hover:scale-110';

  const img2 = document.createElement('img');
  img2.src = item.image2;
  img2.alt = `Sáº£n pháº©m ${item.stt}`;
  img2.className = 'absolute inset-0 w-full h-full object-cover opacity-0 transition-all duration-500 ease-out group-hover:opacity-100 group-hover:scale-110';

  link.appendChild(img1);
  link.appendChild(img2);
  return link;
}




function shuffleArray(arr){
  return arr
    .map(v => ({ v, r: Math.random() }))
    .sort((a,b) => a.r - b.r)
    .map(o => o.v);
}

function renderFeatured(firstN){
  const cells = featuredGrid.querySelectorAll('.cell');
  cells.forEach((cell, i) => {
    cell.innerHTML = '';
    if (!firstN[i]) return;
    const card = createCard(firstN[i]);
    card.classList.add('h-full');   // card fill cell
    cell.appendChild(card);
  });
}

function renderMasonry(rest){
  masonryGrid.innerHTML = '';
  const shuffled = shuffleArray(rest);
  shuffled.forEach(item => {
    const wrap = document.createElement('div');
    wrap.appendChild(createCard(item));
    masonryGrid.appendChild(wrap);
  });
}

/* ---------- RENDER Táº¤T Cáº¢ ---------- */
function rerenderAll() {
  const shuffledAll = shuffleArray(items.slice());   // xÃ¡o toÃ n bá»™
  const featured = shuffledAll.slice(0, 7);          // 7 áº£nh cho layout má»›i
  const rest     = shuffledAll.slice(7);             // cÃ²n láº¡i

  renderFeatured(featured);
  renderMasonry(rest);
}

/* Láº§n Ä‘áº§u vÃ o trang */
rerenderAll();

/* NÃºt LÃ m má»›i: xÃ¡o láº¡i táº¥t cáº£ & render láº¡i */
document.getElementById('reloadBtn').addEventListener('click', rerenderAll);

/* Popup thÃ´ng bÃ¡o */
document.getElementById("notificationIcon").addEventListener("click", function () {
  const popup = document.getElementById("notificationPopup");
  popup.classList.toggle("show");
  setTimeout(() => popup.classList.remove("show"), 10000);
});


